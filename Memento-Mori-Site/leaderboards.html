<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Memento Mori – Leaderboards</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@300;400;600&family=Roboto+Mono:wght@300;400&display=swap" rel="stylesheet">
</head>
<body>
<header class="site-header">
    <div class="header-inner">
        <h1 class="site-title">Memento Mori</h1>
        <nav class="main-nav">
            <div class="nav-item">
                <a href="index.html" class="nav-link">Home</a>
            </div>
            <div class="nav-item has-dropdown">
                <a href="about.html" class="nav-link">About</a>
                <div class="dropdown">
                    <a href="about.html" class="dropdown-link">About</a>
                    <a href="guide.html" class="dropdown-link">New Survivor Guide</a>
                </div>
            </div>
            <div class="nav-item has-dropdown">
                <a href="seasons.html" class="nav-link">Seasons</a>
                <div class="dropdown">
                    <a href="seasons.html" class="dropdown-link">Season Dashboard</a>
                    <a href="patch-notes.html" class="dropdown-link">Patch Notes</a>
                    <a href="timeline.html" class="dropdown-link">Timeline</a>
                </div>
            </div>
            <div class="nav-item has-dropdown">
                <a href="players.html" class="nav-link active">Players</a>
                <div class="dropdown">
                    <a href="players.html" class="dropdown-link">Players Overview</a>
                    <a href="map.html" class="dropdown-link">Map</a>
                    <a href="stories.html" class="dropdown-link">Stories</a>
                    <a href="factions.html" class="dropdown-link">Factions</a>
                    <a href="leaderboards.html" class="dropdown-link active">Leaderboards</a>
                    <a href="gallery.html" class="dropdown-link">Gallery</a>
                </div>
            </div>
            <div class="nav-item">
                <a href="join.html" class="nav-link">Join</a>
            </div>
            <div class="nav-item has-dropdown">
                <a href="admin.html" class="nav-link">Admins</a>
                <div class="dropdown">
                    <a href="admin.html" class="dropdown-link">Admin Console</a>
                    <a href="admin.html#seasons" class="dropdown-link">Season Admin</a>
                    <a href="admin.html#patch-notes" class="dropdown-link">Patch Notes Admin</a>
                    <a href="admin.html#stories" class="dropdown-link">Stories Admin</a>
                    <a href="admin.html#factions" class="dropdown-link">Factions Admin</a>
                    <a href="admin.html#leaderboards" class="dropdown-link">Leaderboards Admin</a>
                </div>
            </div>
        </nav>
    </div>
</header>
<main>
    <section class="page-hero">
        <div class="section-inner">
            <h2>Seasonal Leaderboards</h2>
            <p class="muted">Top survivors per category. Import logs later; placeholder data shown here.</p>
        </div>
    </section>

    <section class="panel">
        <div class="section-inner">
            <div class="card-header">
                <div>
                    <p class="eyebrow">Season 5</p>
                    <h3>Black Forest Rankings</h3>
                </div>
                <div class="flag-row">
                    <span class="pill">Category: PvP Kills</span>
                    <span class="pill">Category: Longest Life</span>
                </div>
            </div>
            <div class="table-wrap">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>Player</th>
                            <th>Category</th>
                            <th>Value</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td>Crane</td>
                            <td>Longest Life</td>
                            <td>22d 6h</td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>Redline</td>
                            <td>PvP Kills</td>
                            <td>94</td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td>Vela</td>
                            <td>Objectives Completed</td>
                            <td>18</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <section class="panel">
        <div class="section-inner">
            <h3>Live Leaderboards (API)</h3>
            <div id="leaderboard-list"></div>
        </div>
    </section>

</main>
<footer class="site-footer">
    <div class="footer-inner">
        <div class="footer-col">
            <h4>Server</h4>
            <ul>
                <li>Region: NA</li>
                <li>Style: Hardcore Survival</li>
                <li>Mode: Seasonal / Story-Driven</li>
            </ul>
        </div>
        <div class="footer-col">
            <h4>Links</h4>
            <ul>
                <li><a href="https://discord.gg/your-invite" target="_blank">Discord</a></li>
                <li><a href="join.html">How to Join</a></li>
                <li><a href="about.html">About the Team</a></li>
            </ul>
        </div>
        <div class="footer-col">
            <h4>Notes</h4>
            <p>
                Memento Mori is a community-run DayZ server project.
                Not affiliated with or endorsed by Bohemia Interactive.
            </p>
        </div>
    </div>
    <div class="footer-meta">
        <span>&copy; <span id="year"></span> Memento Mori Server</span>
        <span>Last wipe: Seasonal schedule</span>
    </div>
</footer>
<script>
    document.getElementById('year').textContent = new Date().getFullYear();

    async function loadLeaderboard() {
        const res = await fetch('/api/leaderboards');
        const data = await res.json();
        const list = document.getElementById('leaderboard-list');
        if (!list) return;
        list.innerHTML = '';
        data.forEach(row => {
            const div = document.createElement('div');
            div.className = 'note-card';
            div.innerHTML = `<strong>${row.player_name}</strong> — ${row.category}: ${row.value}`;
            list.appendChild(div);
        });
    }
    loadLeaderboard();

</script>
</body>
</html>
